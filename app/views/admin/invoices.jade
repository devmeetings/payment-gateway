extends ../angular-layout.jade

block content
  .container(ng-app="invoices")
    .row(ng-controller="InvoicesCtrl")
      .col-xs-12
        a.pull-right(
            ng-click="showOrder = !showOrder"
          )
          | Show Order Id
        h1 Invoices
        table.table.table-striped.table-hover
          thead
            tr
              th(ng-show="showOrder") OrderId
              th Amount
              th Name / Email
              th eInvoice
              th Invoice Recipient
              th Invoice NIP
              th Invoice Address

          tbody
            tr(ng-repeat="in in invoices")
              td(ng-show="showOrder") {{ in.orderId }}
              td 
                | {{ in.totalAmount / 100 | currency }}
                br
                | {{ in.status }}
              td {{ in.buyer.firstName }} {{ in.buyer.lastName }}<br>{{ in.buyer.email}}

              td {{ in.buyer.invoice.eInvoiceRequested }}

              td {{ in.buyer.invoice.recipientName }}
              td {{ in.buyer.invoice.tin }}

              td 
                | {{ in.buyer.invoice.street }}
                br
                | {{ in.buyer.invoice.postalCode }} {{ in.buyer.invoice.city }} ({{ in.buyer.invoice.countryCode }})


append scripts
  script.
    angular.module('invoices', []).controller('InvoicesCtrl', function($scope) {
      $scope.invoices = !{invoices};
    });
